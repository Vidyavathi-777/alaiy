(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(r){if(r.ep)return;r.ep=!0;const e=s(r);fetch(r.href,e)}})();const u={hasBeenAsked:"hasBeenAskedOrRedirectedAlready",isPreferred:"isPreferredStore",userCountry:"userCountryCode"},p=async()=>{const t=sessionStorage.getItem(u.userCountry);if(t)return t;try{const n=(await(await fetch("/browsing_context_suggestions.json")).json()).detected_values.country.handle;return window.Shopify?.designMode||sessionStorage.setItem(u.userCountry,n),n}catch(o){return console.error("Error fetching country:",o),null}},d=t=>{if(t){const o=window.storeSelectorConfig?.regions||{};for(const[s,n]of Object.entries(o))if(n.suggestedStoreUrl?.toLowerCase().trim()===t.toLowerCase().trim())return s}return null},l=(t,o)=>!t||!o?!1:window.storeSelectorConfig?.regions[o]?.countryCodes.includes(t)||!1,y=(t,o)=>{if(!t||!o)return!1;const s=d(o);return s?l(t,s):!1},w=({currentStoreUrl:t,currentUserCountryCode:o,currentStoreCountryCode:s,isTestMode:n=!1,isStagingMode:r=!1})=>{const e=window.storeSelectorConfig.regions;for(const[a,i]of Object.entries(e))if(i.countryCodes.includes(o))return{suggestedStoreUrl:i.suggestedStoreUrl?i.suggestedStoreUrl:t,suggestedStoreCountryCode:a,suggestedStoreRegion:i.displayName,currentStoreUrl:t,currentStoreCountryCode:s,currentUserCountryCode:o,isStoreLocator:!1,isTestMode:n,isStagingMode:r,popoverDisabled:i.popoverDisabled,showRedirectPopup:i.suggestedStoreUrl.toLowerCase().trim()!==t.toLowerCase().trim()};return{suggestedStoreUrl:window.currentShop.storeLocatorUrl,suggestedStoreCountryCode:"EU",suggestedStoreRegion:"Europe",currentStoreUrl:t,currentStoreCountryCode:s,currentUserCountryCode:o,isStoreLocator:!0,isTestMode:n,isStagingMode:r,popoverDisabled:!1,showRedirectPopup:!0}},h=async()=>{try{const o=await(await fetch(`${window.routes.cart_url}.js`)).json(),s={regularProducts:[],swatchProducts:[],swatchProductsLimit:[window.swatches.buyLimit],swatchProductsLimitReached:[]};let n=0;return o.items.forEach(r=>{const e=r.product_type.toLowerCase();e===window.swatches.productTypeUpholstery||e===window.swatches.productTypeMaterial?(n+=r.quantity,s.swatchProducts.push(r)):s.regularProducts.push(r)}),s.swatchProductsLimitReached.push(n>=window.swatches.buyLimit),s}catch(t){return console.error("Error fetching cart:",t),null}},c={},f=t=>Array.from(t.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")),m=(t,o=t)=>{const s=f(t),n=s[0],r=s[s.length-1];g(),c.focusin=e=>{e.target!==t&&e.target!==r&&e.target!==n||document.addEventListener("keydown",c.keydown)},c.focusout=()=>{document.removeEventListener("keydown",c.keydown)},c.keydown=e=>{e.code.toUpperCase()==="TAB"&&(e.target===r&&!e.shiftKey&&(e.preventDefault(),n.focus()),(e.target===t||e.target===n)&&e.shiftKey&&(e.preventDefault(),r.focus()))},document.addEventListener("focusout",c.focusout),document.addEventListener("focusin",c.focusin),o.focus(),o.tagName==="INPUT"&&["search","text","email","url"].includes(o.type)&&o.value&&o.setSelectionRange(0,o.value.length)},g=(t=null)=>{document.removeEventListener("focusin",c.focusin),document.removeEventListener("focusout",c.focusout),document.removeEventListener("keydown",c.keydown),t&&t.focus()},S=(t,o=!0,s="text/javascript")=>new Promise((n,r)=>{try{const e=document.createElement("script"),a=document.head||document.body;e.type=s,e.async=o,e.src=t,e.addEventListener("load",()=>{n({loaded:!0,error:!1,url:t})}),e.addEventListener("error",()=>{r({loaded:!1,error:!0,message:`Failed to load script with src ${t}`})}),a.appendChild(e)}catch(e){r(e)}}),C=u;export{y as a,w as b,d as c,h as f,p as g,l as i,S as l,C as s,m as t};
//# sourceMappingURL=/cdn/shop/t/28/assets/theme-scripts-1743080927.js.map
